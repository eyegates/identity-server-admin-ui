<h2 mat-dialog-title>Ajouter un secret</h2>
<mat-dialog-content>
  <form>
    <div>
      <mat-form-field class="col-12" appearance="outline">
        <mat-select
          placeholder="Secret type"
          [(ngModel)]="secret.type"
          name="type"
        >
          @for (secretType of secretTypes; track secretType) {
          <mat-option [value]="secretType"> {{secretType}} </mat-option>
          }
        </mat-select>
      </mat-form-field>
      <mat-form-field class="col-12" appearance="outline">
        <input
          matInput
          [(ngModel)]="secret.value"
          placeholder="Secret value"
          name="secret"
        />
        <button
          color="primary"
          mat-mini-fab
          matSuffix
          (click)="generateSecret()"
        >
          <mat-icon>vpn_key</mat-icon>
        </button>
      </mat-form-field>
      <mat-form-field class="col-12" appearance="outline">
        <textarea
          matInput
          [(ngModel)]="secret.description"
          placeholder="Description"
          name="description"
        ></textarea>
      </mat-form-field>
      <mat-form-field class="col-6" appearance="outline">
        <input
          matInput
          [(ngModel)]="secret.expiration"
          [matDatepicker]="picker"
          name="expiration"
          placeholder="Expiration date"
        />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>
  </form>
</mat-dialog-content>
<mat-dialog-actions>
  <button mat-button [mat-dialog-close]="false">Cancel</button>
  <button
    mat-raised-button
    [mat-dialog-close]="secret"
    color="primary"
    cdkFocusInitial
  >
    Ajouter <mat-icon>add</mat-icon>
  </button>
</mat-dialog-actions>
